---
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Footer from "../../components/Footer.astro";
import ServiceTemplate from "../../components/ServiceTemplate.astro";
import { getLegalServiceBySlug } from "../../content/serviceLoader";

const service = await getLegalServiceBySlug("derecho-fiscal", "es");
if (!service) return Astro.redirect("/404");
---

<Layout
  title={service.seo.title}
  description={service.seo.description}
  lang="es"
>
  <Navbar />
  <ServiceTemplate service={service} lang="es">
    <div slot="related-services">
      {
        service.relatedServices.map((related) => (
          <a
            href={`/servicios-legales/${related.slug}`}
            class="block bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all"
          >
            <h4 class="text-lg text-gray-900 mb-2">{related.title}</h4>
            <p class="text-gray-600 text-sm">{related.description}</p>
          </a>
        ))
      }
    </div>
  </ServiceTemplate>
  <Footer />
</Layout>
